
Movies
credit : https://api.themoviedb.org/3/movie/{movie_id}/credits
images : https://api.themoviedb.org/3/movie/{movie_id}/images
providers : https://api.themoviedb.org/3/movie/{movie_id}/watch/providers
keywords : https://api.themoviedb.org/3/movie/{movie_id}/keywords
similar: https://api.themoviedb.org/3/movie/{movie_id}/similar

Trending : https://api.themoviedb.org/3/trending/all/{time_window}

TV
credits: https://api.themoviedb.org/3/tv/{series_id}/credits
images: https://api.themoviedb.org/3/tv/{series_id}/images
providers: https://api.themoviedb.org/3/tv/{series_id}/similar
keywords: https://api.themoviedb.org/3/tv/{series_id}/keywords
similar: https://api.themoviedb.org/3/tv/{series_id}/similar


function useFetchDetails({id, type = "movie"}) {

    // console.log({id, type});

    if (id !== 'undefined') {
        const [details, setDetails] = useState()
        const apiURL = `https://api.themoviedb.org/3/${type}/${id}?api_key=84a52dd28c4dfe452e195008fb0304a2`
        // console.log(apiURL);

        useEffect(()=>{
            const fetchData = async () => {
                const response = await fetch(apiURL);
                const result = await response.json();
                console.log(result);
                setDetails(result)
            }
            fetchData()
        },[id,type])

    return details
    }
}


function useSearch() {
  const [data, setData] = useState('')

  const searchTerm = useSelector((state)=> state.searchterm[state.searchterm.length - 1])

  const apiURL = `https://api.themoviedb.org/3/search/multi?query=${searchTerm}&api_key=84a52dd28c4dfe452e195008fb0304a2`

  useEffect(()=>{
    const fetchData = async () => {
        const response = await fetch(apiURL);
        const result = await response.json();
        setData(result.results);
      }
      
      fetchData()
  },[searchTerm])
  return data
}
